<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>{% block title %}Task Manager{% endblock %}</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
    body{font-family:system-ui,Segoe UI,Arial;margin:0;background:#f6f7fb;color:#111}
    header,main{max-width:900px;margin:0 auto;padding:16px}
    nav a{margin-right:12px;text-decoration:none;color:#06c}
    .btn{display:inline-block;padding:8px 12px;border-radius:8px;border:1px solid #ddd;background:#fff}
    .btn-danger{border-color:#e33;color:#e33}
    .tag{padding:2px 8px;border-radius:999px;background:#eee;font-size:12px}
    .flash{padding:10px;border-radius:8px;margin:12px 0;background:#e6f4ea}
    table{width:100%;border-collapse:collapse;background:#fff;border-radius:12px;overflow:hidden}
    th,td{padding:10px;border-bottom:1px solid #eee}
    th{text-align:left;background:#fafbff}
    form.inline{display:inline}
    input,select,textarea{padding:8px;border:1px solid #ddd;border-radius:8px}
    .toolbar{display:flex;gap:8px;align-items:center;margin-bottom:12px;flex-wrap:wrap}
</style>
    {% block head %}{% endblock %}
</head>
<body>
<header>
<nav>
    <a href="{% url 'home' %}">Home</a>
    {% if user.is_authenticated %}
        <a href="{% url 'tasks_web_list' %}">My Tasks</a>
        <span class="tag">Hi {{ user.username }}</span>
        <form method="post" action="{% url 'logout' %}" style="display:inline">
            {% csrf_token %}
            <button class="btn" type="submit">Logout</button>
        </form>

    {% else %}
        <a href="{% url 'login' %}" class="btn">Login</a>
        <a href="{% url 'register_page' %}" class="btn">Register</a>
    {% endif %}
</nav>
{% if messages %}
    {% for m in messages %}
        <div class="flash">{{ m }}</div>
    {% endfor %}
{% endif %}
</header>
<main>
    {% block content %}{% endblock %}
</main>
</body>
</html>
